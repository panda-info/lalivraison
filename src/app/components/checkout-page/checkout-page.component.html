<div class="checkout-page__container">
  <form [formGroup]="formGroup" class="checkout-page__info-zone">

    <div class="checkout-page__info-zone-title">
      <span style="margin-left: 8px">Informations de commande</span>
      <img class="checkout-page__info-zone-title-image" src="../../../assets/images/order_icon_1.png">
    </div>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Saisissez votre nom</mat-label>
      <input formControlName="nom" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-error *ngIf="formGroup.get('nom').invalid">
        {{getErrorMessage('nom')}}
      </mat-error>
      <mat-icon matSuffix>person</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Saisissez votre prénom</mat-label>
      <input formControlName="prenom" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-error *ngIf="formGroup.get('prenom').invalid">
        {{getErrorMessage('prenom')}}
      </mat-error>
      <mat-icon matSuffix>person</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Saisissez votre téléphone</mat-label>
      <input formControlName="telephone" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-error *ngIf="formGroup.get('telephone').invalid">
        {{getErrorMessage('telephone')}}
      </mat-error>
      <mat-icon matSuffix>phone</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Saisissez votre email</mat-label>
      <input formControlName="email" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-error *ngIf="formGroup.get('email').invalid">
        {{getErrorMessage('email')}}
      </mat-error>
      <mat-icon matSuffix>alternate_email</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Saisissez votre adresse</mat-label>
      <input formControlName="adresse" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-error *ngIf="formGroup.get('adresse').invalid">
        {{getErrorMessage('adresse')}}
      </mat-error>
      <mat-icon matSuffix>home</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Quartier</mat-label>
      <input formControlName="quartier" class="checkout-page__info-zone-text-field-margin" type="text" matInput>
      <mat-icon matSuffix>room</mat-icon>
    </mat-form-field>

    <mat-form-field class="checkout-page__info-zone-text-field">
      <mat-label class="checkout-page__info-zone-text-field-margin"> Ville</mat-label>
      <input formControlName="ville" class="checkout-page__info-zone-text-field-margin" type="text" matInput disabled>
      <mat-icon matSuffix>location_city</mat-icon>
    </mat-form-field>

    <mat-button-toggle-group formControlName="moyen_paiement" class="checkout-page__info-zone-toggle">
      <mat-button-toggle value="1" class="checkout-page__info-zone-toggle-button">
        Payer en ligne&nbsp;&nbsp;&nbsp;<mat-icon>payment</mat-icon>
      </mat-button-toggle>
      <mat-button-toggle value="0" class="checkout-page__info-zone-toggle-button">
        Payer en espèce&nbsp;&nbsp;&nbsp;<mat-icon>payments</mat-icon>
      </mat-button-toggle>
      <mat-error *ngIf="formGroup.get('moyen_paiement').invalid">
        {{getErrorMessage('moyen_paiement')}}
      </mat-error>
    </mat-button-toggle-group>

    <mat-form-field class="checkout-page__info-zone-text-field" style="height: fit-content !important">
      <mat-label class="checkout-page__info-zone-text-field-margin">Note de livraison</mat-label>
      <textarea formControlName="note" matInput maxlength="200" ></textarea>
    </mat-form-field>

    <button class="checkout-page__info-zone-button"
            mat-raised-button
            [disabled]="formGroup.invalid"
            (click)="validate()"
            color="primary">
      Commander
    </button>

  </form>
  <div class="checkout-page__order-zone">
    <div class="checkout-page__order-zone-frame">
      <div class="checkout-page__order-zone-header">
        <div class="checkout-page__order-zone-header-text">Votre commande</div>
        <div>
          <img class="checkout-page__order-zone-frame-item-image"
               style="margin-right: 5px"
               src="../../../assets/images/swiper-3.png">
          <img class="checkout-page__order-zone-frame-item-image"
               src="../../../assets/images/swiper-0.png">
        </div>
      </div>
      <div class="checkout-page__order-zone-frame-items">

        <div *ngFor="let item of basketService.items" class="checkout-page__order-zone-frame-item">
          <img class="checkout-page__order-zone-frame-item-image"
               [src]="item.image">
          <div class="checkout-page__order-zone-frame-item-details">
            <span class="checkout-page__order-zone-frame-item-details-name">{{item.name}}</span>
            <div class="checkout-page__order-zone-frame-item-details-text">
              <span>{{item.count}}&nbsp;&nbsp;</span>x
              <span class="checkout-page__order-zone-frame-item-details-text-price">
                &nbsp;&nbsp;{{item.unitPrice}} Dhs
              </span>
            </div>
          </div>
        </div>

        <div class="checkout-page__order-zone-frame-bill">
          <div class="checkout-page__order-zone-frame-bill-line">
            <div>Sous-total</div>
            <div class="checkout-page__order-zone-frame-bill-line-price">{{basketService.total()}} Dhs</div>
          </div>
          <div class="checkout-page__order-zone-frame-bill-line">
            <div>Livraison</div>
            <div class="checkout-page__order-zone-frame-bill-line-price">0 Dhs</div>
          </div>
          <hr class="checkout-page__order-zone-frame-bill-line-separator">
          <div class="checkout-page__order-zone-frame-bill-line">
            <div>Total</div>
            <div class="checkout-page__order-zone-frame-bill-line-price">{{basketService.total()}} Dhs</div>
          </div>
        </div>

        <button class="checkout-page__order-zone-button"
                [disabled]="formGroup.invalid"
                (click)="validate()"
                mat-raised-button
                color="primary">
          Commander
        </button>


      </div>
    </div>
    <img  src="../../../assets/images/shape10.png" class="checkout-page__order-zone-footer" style="margin-top: -8px">
    <app-about-zone class="checkout-page__about-zone-mobile"></app-about-zone>
  </div>
</div>
<app-about-zone class="checkout-page__about-zone-desktop"></app-about-zone>
